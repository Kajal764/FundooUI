<div *ngIf="flag==true" fxLayout="row" fxFlex="100" fxLayout="column" (click)="addNote()"
     fxLayoutAlign="space-around start">
  <mat-card class="note-create"
            fxLayoutAlign="space-between center">

    <div data-text="Take a note..." class="border" id="noteTitle" fxLayout="column" contenteditable="true"
         class="maincard">
    </div>
    <div fxLayout="row" fxLayoutAlign="end start">
      <button mat-icon-button>
        <mat-icon class="icon-take-note" matTooltip="New List">
          <img class="icon" src="../../../assets/check_box-24px.svg"/>
        </mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon matTooltip="New note with drawing">
          <img class="icon" src="../../../assets/outline-brush-24px.svg"/>
        </mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon matTooltip="New note with image">
          <img class="icon" src="../../../assets/outline-image-24px.svg"/>
        </mat-icon>
      </button>
    </div>
  </mat-card>
</div>

<div *ngIf="flag==false" fxLayout="row" fxFlex="100" fxLayout="column" fxLayoutAlign="space-around start">
  <mat-card class="note-create" fxLayout="column" [style.backgroundColor]="color">
    <div fxLayoutAlign="space-between center">
      <div class="border" fxLayout="column" class="takenote">
        <textarea class="textArea" matTextareaAutosize placeholder="Title" style="font-size: 15px"
                  [(ngModel)]="noteTitle" [style.backgroundColor]="color"></textarea>
      </div>
      <button mat-icon-button class="pin-button">
        <mat-icon *ngIf="!pin" class="icon-take-note" matTooltip="Pin note" (click)="notePin()">
          <img class="ssicon" src="../../../assets/unpinbar.svg"/>
        </mat-icon>
        <mat-icon *ngIf="pin" class="icon-take-note" matTooltip="Unpin note" (click)="notePin()">
          <img class="icon" src="../../../assets/pinbar.svg"/>
        </mat-icon>
      </button>
    </div>

    <div class="border" fxLayout="column" class="takenote">
      <textarea class="textArea" style="font-size: 14px" matTextareaAutosize placeholder="Take a note..."
                [(ngModel)]="noteDesc" [style.backgroundColor]="color"></textarea>
    </div>

    <mat-chip-list
      class="example-chip"
      cdkDropListOrientation="horizontal">
      <mat-chip class="example-box" cdkDrag
                *ngFor="let labelData of noteLabelList">
        <div matLine><small>{{labelData.labelName}}</small></div>
        <mat-icon matChipRemove (click)="removeMapping(labelData)">cancel</mat-icon>
      </mat-chip>
    </mat-chip-list>

    <!--    last div-->
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <div>
        <button mat-icon-button>
          <mat-icon class="icon-take-note" matTooltip="Remind me">
            <img class="icon" class="take-note-icon" src="../../../assets/reminder.svg"/>
          </mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon matTooltip="Collaborator">
            <img class="icon" class="take-note-icon" src="../../../assets/person_add-24px.svg"/>
          </mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="colorlist">
          <mat-icon matTooltip="Chnage color">
            <img class="icon" class="take-note-icon" src="../../../assets/color_lens-24px.svg"/>
          </mat-icon>
        </button>

        <mat-menu #colorlist="matMenu" yPosition="above">
          <div fxLayout="row" fxLayoutGap="5px" style="margin: 3px;padding-bottom: 0px"
               *ngFor="let colors of colorArray">
            <div *ngFor="let color of colors">
              <button
                class="colors"
                [ngStyle]="{ 'background-color': color.color }"
                (click)="colorEdit(color.color)"
                matTooltip="{{ color.name}}">
              </button>
            </div>
          </div>
        </mat-menu>

        <button mat-icon-button>
          <mat-icon matTooltip="Add image">
            <img class="icon" class="take-note-icon" src="../../../assets/outline-image-24px.svg"/>
          </mat-icon>
        </button>
        <button mat-icon-button>
          <mat-icon matTooltip="Archive">
            <img class="icon" class="take-note-icon"
                 src="../../../assets/archive-24px.svg"
                 (click)="archiveNote()"/>
          </mat-icon>
        </button>
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon matTooltip="More">
            <img class="icon" class="take-note-icon" src="../../../assets/more_vert-24px.svg"/>
          </mat-icon>
        </button>

        <mat-menu #menu="matMenu">
          <button mat-menu-item [matMenuTriggerFor]="labelMenu" (click)="$event.stopPropagation()">
            <span>Add label</span>
          </button>
        </mat-menu>

        <mat-menu #labelMenu="matMenu" yPosition="above" (click)="$event.stopPropagation()">
          <div *ngFor="let labelData of labelList " style="padding: 5px 10px 5px 10px ">
            <div fxLayout="row">
              <mat-checkbox
                (click)="$event.stopPropagation()"
                (change)="mapLabel($event,labelData)">
                {{labelData.labelName}}
              </mat-checkbox>
            </div>
          </div>
        </mat-menu>

      </div>
      <div>
        <button mat-flat-button (click)="createNote()">Close</button>
      </div>
    </div>
  </mat-card>
</div>

